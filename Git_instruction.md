# **Инструкция по работе с Git**

![Эмблема git](git.png)

## Основная информация про Git

Git - это система контроля версий, которая позволяет отслеживать и фиксировать изменения в коде: можно восстановить код в случае сбоя или откатить до более ранних версий. Также это инструмент для взаимодействия нескольких разработчиков на одном проекте. 
Git сохраняет в памяти не файлы целиком, а разницу между файлами.
Все команды задаем при помощи написания кода в терминале.

## Просмотр версии git

Чтобы проверить установленную версию git необходимо использовать команду:

    git --version

## Настройка конфигурации

Для идентификации необходимо настроить имя пользователя и email. Для этого используются команды:

    git config --global user.name "имя пользователя"- настройка имени пользователя
    git config --global user.email "эл.почта" - настройка email

## Инициализация репозитория

Чтобы создать репозиторий необходимо использовать команду:

    git init

Большинство команд git невозможно использовать без инициализации репозитория, поэтому данная команда обычно выполняется первой в рамках нового проекта.

## Проверка состояния репозитория

Чтобы посмотреть текущее состояние git, есть ли изменения, которые нужно закоммитить (сохранить) необходимо использовать команду:

    git status

Она выводит информацию обо всех изменениях, внесенных в дерево директорий проекта по сравнению с последним коммитом рабочей ветки.

## Добавление в индекс

Чтобы добавить содержимое рабочего каталога в индекс для последующего коммита необходимо использовать команду:

    git add имя файла

Имя файла указывать полностью необязательно, можно указать первые несколько символом и нажать Tab.

## Фиксация изменений

Чтобы зафиксировать и сохранить изменения необходимо использовать команду:
    git commit

Данная команда откроет текстовый редактор для ввода сообщения коммита. 

Также с этой командой можно использовать следующие флаги:

        git commit -m "текст коммита" - 
    позволяет написать сообщение вместе с командой, не открывая редактор

        git commit -am "текст коммита" - 
    позволяет совместить команду git add и git commit

## Просмотр изменений

Чтобы просмотреть историю предыдущих коммитов в обратном хронологическом порядке необходимо использовать команду:

    git log

Также с этой командой можно использовать следующие флаги:

    git log --oneline - краткий обзор информации
    git log --all - показывает все коммиты

## Переключение между версиями

Чтобы переключаться между версиями необходимо использовать команду:

    git checkout

Команда checkout используется для копирования файлов из истории или сцены в рабочую директорию. Также она может использоваться для переключения между ветками.

Для того чтобы вернуться в актуальную версию необходимо использовать команду:
    
    git checkout master

## Показ изменений

Чтобы посмотреть сами изменения, которые были сделаны, необходимо использовать команду:

    git diff  - будет показана разница между текущим состоянием репозитория и последним закоммиченным

Для просмотра различий между разными версиями репозиторияиспользуется команда:

    git diff <hash1> <hash2>

## Вставка картинки в файл

Git работает только с текстовыми файлами и для того чтобы вставить картинку необходимо ,чтобы git ее не отслеживал. Для этого создается в репозитории скрытый файл, имя которого должно начинаться с точки. Затем в этот файл необходимо записать имена/пути файлов, которые необходимо игнорировать.

## Ветвление

Ветвление дает возможность работать над разными версиями исходного кода. Основной идеей ветвления является отклонение от основного кода и продолжение работы независимо от него. Также это удобно в тестировании отдельного функционала, потому что позволяет работать над новой частью кода, не беспокоясь о поломке чего-то в рабочей версии. Под веткой понимается независимая последовательность коммитов в хронологическом порядке. Однако конкретно в Git реализация ветки выполнена как указатель на последний коммит в рассматриваемой ветке.

Чаще всего ветки используются в следующих случаях:

1. Ветки нужны, чтобы несколько программистов могли **вести работу** над одним и тем же проектом или даже файлом **одновременно**, при этом не мешая друг другу.
2. Ветки используются **для тестирования экспериментальных функций**: чтобы не повредить основному проекту, создается новая ветка специально для экспериментов. Если эксперимент удался, изменения с экспериментальной ветки переносятся на основную, если нет – новая ветка попросту удаляется, а проект остается нетронутым.
3. Ветки можно использовать **для** разных выходящих **параллельно релизов** одного проекта. Например, в репозитории Python может быть две ветки: python-2 и python-3. До закрытия python-2 релизы этих версий языка выходили независимо друг от друга, поэтому могло иметь место такое разделение на ветки.

### _Просмотр списка веток_

Для просмотра списка веток необходимо использовать команду:
    
    git branch

### _Создание новой ветки_

Для создания новой ветки необходимо использовать команду:

    git branch <branch_name>

_**Для того чтобы в терминале было видно ответвление, необходимо сделать хотя бы один commit в master, затем переключиться на ветку и работать в ней.**_

### _Переключение между ветками_

Для переключения между ветками необходимо использовать команду

    git checkout <branch_name>

Для переключения между ветками необходимо знать имя ветки. Для вывода списка веток используем вышеописанную команду **git branch**, а также проверить на какой мы находимся в данный момент (текущая ветка отмечена *).

### _Просмотр визуализации всех веток_

Для просмотра древовидной структуры commit при ветвлении необходимо использовать команду:

    git log --graph

### _Слияние веток_

Слияние необходимо для того, чтобы собрать воедино разветвленную историю - перенос изменений с одной ветки на другую. Для слияния веток необходимо использовать команду:

    git merge <branch_name>

Для слияния веток необходимо переключиться на ту ветку, в которую хотим внести изменения и запустить вышеописанную команду. *После слияния необходимо удалить использованную ветку*.

### _Удаление ветки_

Для удаления ветки необходимо использовать команду:

    git branch -d <branch_name>

### Конфликт изменений

При работе в двух ветках одновременно может возникнуть ситуация, когда в одной и другой
ветке мы по-разному изменили блок текста. Если затем мы попробуем слить эти ветки, Git
сообщит о конфликте и предложит выбрать, какие же изменения записать.

__Варианты решения конфликтов__

1. Accept current change - принять текущие изменения (которые находятся в текущей ветке)
2. Accept incoming change - принять входящие изменения (удаляется то, что находится в текущей ветке и вливаются изменения из новой ветки)
3. Accept both change - принять все изменения (добавляются изменения из текущей и вливаемой ветки). Git использует данный вариант по умолчанию. После слияния можно откорректировать вручную и закоммитеть.
4. Compare changes - сравнить изменения. Открывается редактор, в котором можно сравнить все изменения.

## Удаленные репозитории

Удаленный ("внешний") репозиторий – это версии проекта, сохраненные на удаленном сервере. Доступ к репозиторию на таком сервере может осуществляться по интернету или по локальной сети. Удаленный репозиторий – полноценный репозиторий, ничем не отличающийся от локального. У удаленного репозитория есть собственные ветки, собственный указатель HEAD, своя история коммитов и так далее. При подключении удаленного репозитория к локальному появятся копии всех ссылочных объектов удаленного репозитория. То есть, например, у удаленного репозитория есть ветка main, а у нас будет копия этой ветки – origin/main. Все такие ссылочные объекты (указатели, ветки и теги) удаленного репозитория хранятся почти там же, где и у локального – в директории .git/refs/remotes/<имя_удаленного_репозитория>.

Удаленные репозитории нужны для совместной работы.
